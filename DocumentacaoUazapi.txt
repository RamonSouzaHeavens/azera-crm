TAG
AdmininstraÃ§Ã£o
Endpoints para administraÃ§Ã£o geral do sistema. Requerem um admintoken para autenticaÃ§Ã£o.

POST
Criar Instancia
GET
Listar todas as instÃ¢ncias
POST
Atualizar campos administrativos
GET
Ver Webhook Global
POST
Configurar Webhook Global

POST
/instance/init
Criar Instancia
Cria uma nova instÃ¢ncia do WhatsApp. Para criar uma instÃ¢ncia vocÃª precisa:

Ter um admintoken vÃ¡lido
Enviar pelo menos o nome da instÃ¢ncia
A instÃ¢ncia serÃ¡ criada desconectada
SerÃ¡ gerado um token Ãºnico para autenticaÃ§Ã£o
ApÃ³s criar a instÃ¢ncia, guarde o token retornado pois ele serÃ¡ necessÃ¡rio para todas as outras operaÃ§Ãµes.

Estados possÃ­veis da instÃ¢ncia:

disconnected: Desconectado do WhatsApp
connecting: Em processo de conexÃ£o
connected: Conectado e autenticado
Campos administrativos (adminField01/adminField02) sÃ£o opcionais e podem ser usados para armazenar metadados personalizados. OS valores desses campos sÃ£o vÃ­siveis para o dono da instancia via token, porÃ©m apenas o administrador da api (via admin token) pode editÃ¡-los.

Request
Body
name
string
required
Nome da instÃ¢ncia

Example: "minha-instancia"

systemName
string
Nome do sistema (opcional, padrÃ£o 'uazapiGO' se nÃ£o informado)

Example: "apilocal"

adminField01
string
Campo administrativo 1 para metadados personalizados (opcional)

Example: "custom-metadata-1"

adminField02
string
Campo administrativo 2 para metadados personalizados (opcional)

Example: "custom-metadata-2"

GET
/instance/all
Listar todas as instÃ¢ncias
Retorna uma lista completa de todas as instÃ¢ncias do sistema, incluindo:

ID e nome de cada instÃ¢ncia
Status atual (disconnected, connecting, connected)
Data de criaÃ§Ã£o
Ãšltima desconexÃ£o e motivo
InformaÃ§Ãµes de perfil (se conectado)
Requer permissÃµes de administrador.

Responses

200
Lista de instÃ¢ncias retornada com sucesso

401
Token invÃ¡lido ou expirado

403
Token de administrador invÃ¡lido

500
Erro interno do servidor

POST
/instance/updateAdminFields
Atualizar campos administrativos
Atualiza os campos administrativos (adminField01/adminField02) de uma instÃ¢ncia.

Campos administrativos sÃ£o opcionais e podem ser usados para armazenar metadados personalizados. Estes campos sÃ£o persistidos no banco de dados e podem ser utilizados para integraÃ§Ãµes com outros sistemas ou para armazenamento de informaÃ§Ãµes internas. OS valores desses campos sÃ£o vÃ­siveis para o dono da instancia via token, porÃ©m apenas o administrador da api (via admin token) pode editÃ¡-los.

Request
Body
id
string
required
ID da instÃ¢ncia

Example: "inst_123456"

adminField01
string
Campo administrativo 1

Example: "clientId_456"

adminField02
string
Campo administrativo 2

Example: "integration_xyz"

Responses

200
Campos atualizados com sucesso

401
Token de administrador invÃ¡lido

404
InstÃ¢ncia nÃ£o encontrada

500
Erro interno

GET
/globalwebhook
Ver Webhook Global
Retorna a configuraÃ§Ã£o atual do webhook global, incluindo:

URL configurada
Eventos ativos
Filtros aplicados
ConfiguraÃ§Ãµes adicionais
Exemplo de resposta:

{
  "enabled": true,
  "url": "https://example.com/webhook",
  "events": ["messages", "messages_update"],
  "excludeMessages": ["wasSentByApi", "isGroupNo"],
  "addUrlEvents": true,
  "addUrlTypesMessages": true
}
Responses

200
ConfiguraÃ§Ã£o atual do webhook global

401
Token de administrador nÃ£o fornecido

403
Token de administrador invÃ¡lido ou servidor demo

404
Webhook global nÃ£o encontrado

ðŸš€ ConfiguraÃ§Ã£o Simples (Recomendada)
Para a maioria dos casos de uso:

Configure apenas URL e eventos desejados
Modo simples por padrÃ£o (sem complexidade)
Recomendado: Sempre use "excludeMessages": ["wasSentByApi"] para evitar loops
Exemplo: {"url": "https://webhook.cool/global", "events": ["messages", "connection"], "excludeMessages": ["wasSentByApi"]}
ðŸ§ª Sites para Testes (ordenados por qualidade)
Para testar webhooks durante desenvolvimento:

https://webhook.cool/ - â­ Melhor opÃ§Ã£o (sem rate limit, interface limpa)
https://rbaskets.in/ - â­ Boa alternativa (confiÃ¡vel, baixo rate limit)
https://webhook.site/ - âš ï¸ Evitar se possÃ­vel (rate limit agressivo)
Funcionalidades Principais:
ConfiguraÃ§Ã£o de URL para recebimento de eventos
SeleÃ§Ã£o granular de tipos de eventos
Filtragem avanÃ§ada de mensagens
ParÃ¢metros adicionais na URL
Eventos DisponÃ­veis:

connection: AlteraÃ§Ãµes no estado da conexÃ£o
history: Recebimento de histÃ³rico de mensagens
messages: Novas mensagens recebidas
messages_update: AtualizaÃ§Ãµes em mensagens existentes
call: Eventos de chamadas VoIP
contacts: AtualizaÃ§Ãµes na agenda de contatos
presence: AlteraÃ§Ãµes no status de presenÃ§a
groups: ModificaÃ§Ãµes em grupos
labels: Gerenciamento de etiquetas
chats: Eventos de conversas
chat_labels: AlteraÃ§Ãµes em etiquetas de conversas
blocks: Bloqueios/desbloqueios
leads: AtualizaÃ§Ãµes de leads
sender: AtualizaÃ§Ãµes de campanhas, quando inicia, e quando completa
Remover mensagens com base nos filtros:

wasSentByApi: Mensagens originadas pela API âš ï¸ IMPORTANTE: Use sempre este filtro para evitar loops em automaÃ§Ãµes
wasNotSentByApi: Mensagens nÃ£o originadas pela API
fromMeYes: Mensagens enviadas pelo usuÃ¡rio
fromMeNo: Mensagens recebidas de terceiros
isGroupYes: Mensagens em grupos
isGroupNo: Mensagens em conversas individuais
ðŸ’¡ PrevenÃ§Ã£o de Loops Globais: O webhook global recebe eventos de TODAS as instÃ¢ncias. Se vocÃª tem automaÃ§Ãµes que enviam mensagens via API, sempre inclua "excludeMessages": ["wasSentByApi"]. Caso prefira receber esses eventos, certifique-se de que sua automaÃ§Ã£o detecta mensagens enviadas pela prÃ³pria API para nÃ£o criar loops infinitos em mÃºltiplas instÃ¢ncias.

ParÃ¢metros de URL:

addUrlEvents (boolean): Quando ativo, adiciona o tipo do evento como path parameter na URL. Exemplo: https://api.example.com/webhook/{evento}
addUrlTypesMessages (boolean): Quando ativo, adiciona o tipo da mensagem como path parameter na URL. Exemplo: https://api.example.com/webhook/{tipo_mensagem}
CombinaÃ§Ãµes de ParÃ¢metros:

Ambos ativos: https://api.example.com/webhook/{evento}/{tipo_mensagem} Exemplo real: https://api.example.com/webhook/message/conversation
Apenas eventos: https://api.example.com/webhook/message
Apenas tipos: https://api.example.com/webhook/conversation
Notas TÃ©cnicas:

Os parÃ¢metros sÃ£o adicionados na ordem: evento â†’ tipo mensagem
A URL deve ser configurada para aceitar esses parÃ¢metros dinÃ¢micos
Funciona com qualquer combinaÃ§Ã£o de eventos/mensagens
Request
Body
url
string
required
URL para receber os eventos

Example: "https://webhook.cool/global"

events
array
required
Lista de eventos monitorados

Example: ["messages","connection"]

excludeMessages
array
Filtros para excluir tipos de mensagens

Example: ["wasSentByApi"]

addUrlEvents
boolean
Adiciona o tipo do evento como parÃ¢metro na URL.

false (padrÃ£o): URL normal
true: Adiciona evento na URL (ex: /webhook/message)
addUrlTypesMessages
boolean
Adiciona o tipo da mensagem como parÃ¢metro na URL.

false (padrÃ£o): URL normal
true: Adiciona tipo da mensagem (ex: /webhook/conversation)
Responses

200
Webhook global configurado com sucesso

400
Payload invÃ¡lido

401
Token de administrador nÃ£o fornecido

403
Token de administrador invÃ¡lido ou servidor demo

500
Erro interno do servidor

POST
/instance/connect
Conectar instÃ¢ncia ao WhatsApp
Inicia o processo de conexÃ£o de uma instÃ¢ncia ao WhatsApp. Este endpoint:

Requer o token de autenticaÃ§Ã£o da instÃ¢ncia
Recebe o nÃºmero de telefone associado Ã  conta WhatsApp
Gera um QR code caso nÃ£o passe o campo phone
Ou Gera cÃ³digo de pareamento se passar o o campo phone
Atualiza o status da instÃ¢ncia para "connecting"
O processo de conexÃ£o permanece pendente atÃ© que:

O QR code seja escaneado no WhatsApp do celular, ou
O cÃ³digo de pareamento seja usado no WhatsApp
Timeout de 2 minutos para QRCode seja atingido ou 5 minutos para o cÃ³digo de pareamento
Use o endpoint /instance/status para monitorar o progresso da conexÃ£o.

Estados possÃ­veis da instÃ¢ncia:

disconnected: Desconectado do WhatsApp
connecting: Em processo de conexÃ£o
connected: Conectado e autenticado
Exemplo de requisiÃ§Ã£o:

{
  "phone": "5511999999999"
}
Request
Body
phone
string
required
NÃºmero de telefone no formato internacional (ex: 5511999999999)

Example: "5511999999999"

Responses

200
Sucesso

401
Token invÃ¡lido/expirado

404
InstÃ¢ncia nÃ£o encontrada

429
Limite de conexÃµes simultÃ¢neas atingido

500
Erro interno

POST
/instance/disconnect
Desconectar instÃ¢ncia
Desconecta a instÃ¢ncia do WhatsApp, encerrando a sessÃ£o atual. Esta operaÃ§Ã£o:

Encerra a conexÃ£o ativa

Requer novo QR code para reconectar

DiferenÃ§as entre desconectar e hibernar:

Desconectar: Encerra completamente a sessÃ£o, exigindo novo login

Hibernar: MantÃ©m a sessÃ£o ativa, apenas pausa a conexÃ£o

Use este endpoint para:

Encerrar completamente uma sessÃ£o

ForÃ§ar uma nova autenticaÃ§Ã£o

Limpar credenciais de uma instÃ¢ncia

Reiniciar o processo de conexÃ£o

Estados possÃ­veis apÃ³s desconectar:

disconnected: Desconectado do WhatsApp

connecting: Em processo de reconexÃ£o (apÃ³s usar /instance/connect)

GET
/instance/status
Verificar status da instÃ¢ncia
Retorna o status atual de uma instÃ¢ncia, incluindo:

Estado da conexÃ£o (disconnected, connecting, connected)
QR code atualizado (se em processo de conexÃ£o)
CÃ³digo de pareamento (se disponÃ­vel)
InformaÃ§Ãµes da Ãºltima desconexÃ£o
Detalhes completos da instÃ¢ncia
Este endpoint Ã© particularmente Ãºtil para:

Monitorar o progresso da conexÃ£o
Obter QR codes atualizados durante o processo de conexÃ£o
Verificar o estado atual da instÃ¢ncia
Identificar problemas de conexÃ£o
Estados possÃ­veis:

disconnected: Desconectado do WhatsApp
connecting: Em processo de conexÃ£o (aguardando QR code ou cÃ³digo de pareamento)
connected: Conectado e autenticado com sucesso
Responses

200
Sucesso

401
Token invÃ¡lido/expirado

404
InstÃ¢ncia nÃ£o encontrada

500
Erro interno

POST
/profile/name
Altera o nome do perfil do WhatsApp
Altera o nome de exibiÃ§Ã£o do perfil da instÃ¢ncia do WhatsApp.

O endpoint realiza:

Atualiza o nome do perfil usando o WhatsApp AppState
Sincroniza a mudanÃ§a com o servidor do WhatsApp
Retorna confirmaÃ§Ã£o da alteraÃ§Ã£o
Importante:

A instÃ¢ncia deve estar conectada ao WhatsApp
O nome serÃ¡ visÃ­vel para todos os contatos
Pode haver um limite de alteraÃ§Ãµes por perÃ­odo (conforme WhatsApp)
Request
Body
name
string
required
Novo nome do perfil do WhatsApp

Example: "Minha Empresa - Atendimento"

Responses

200
Nome do perfil alterado com sucesso

400
Dados invÃ¡lidos na requisiÃ§Ã£o

401
Sem sessÃ£o ativa

403
AÃ§Ã£o nÃ£o permitida

500
Erro interno do servidor

POST
/profile/image
Altera a imagem do perfil do WhatsApp
Altera a imagem de perfil da instÃ¢ncia do WhatsApp.

O endpoint realiza:

Atualiza a imagem do perfil usando
Processa a imagem (URL, base64 ou comando de remoÃ§Ã£o)
Sincroniza a mudanÃ§a com o servidor do WhatsApp
Retorna confirmaÃ§Ã£o da alteraÃ§Ã£o
Importante:

A instÃ¢ncia deve estar conectada ao WhatsApp
A imagem serÃ¡ visÃ­vel para todos os contatos
A imagem deve estar em formato JPEG e tamanho 640x640 pixels
Request
Body
image
string
required
Imagem do perfil. Pode ser:

URL da imagem (http/https)
String base64 da imagem
"remove" ou "delete" para remover a imagem atual
Example: "https://picsum.photos/640/640.jpg"

Responses

200
Imagem do perfil alterada com sucesso

400
Dados invÃ¡lidos na requisiÃ§Ã£o

401
Sem sessÃ£o ativa

403
AÃ§Ã£o nÃ£o permitida

413
Imagem muito grande

500
Erro interno do servidor

GET
/webhook
Ver Webhook da InstÃ¢ncia
Retorna a configuraÃ§Ã£o atual do webhook da instÃ¢ncia, incluindo:

URL configurada
Eventos ativos
Filtros aplicados
ConfiguraÃ§Ãµes adicionais
Exemplo de resposta:

[
  {
    "id": "123e4567-e89b-12d3-a456-426614174000",
    "enabled": true,
    "url": "https://example.com/webhook",
    "events": ["messages", "messages_update"],
    "excludeMessages": ["wasSentByApi", "isGroupNo"],
    "addUrlEvents": true,
    "addUrlTypesMessages": true
  },
  {
    "id": "987fcdeb-51k3-09j8-x543-864297539100",
    "enabled": true,
    "url": "https://outro-endpoint.com/webhook",
    "events": ["connection", "presence"],
    "excludeMessages": [],
    "addUrlEvents": false,
    "addUrlTypesMessages": false
  }
]
A resposta Ã© sempre um array, mesmo quando hÃ¡ apenas um webhook configurado.

Responses

200
ConfiguraÃ§Ã£o do webhook retornada com sucesso

401
Token invÃ¡lido ou nÃ£o fornecido

500
Erro interno do servidor

POST
/webhook
Configurar Webhook da InstÃ¢ncia
Gerencia a configuraÃ§Ã£o de webhooks para receber eventos em tempo real da instÃ¢ncia. Permite gerenciar mÃºltiplos webhooks por instÃ¢ncia atravÃ©s do campo ID e action.

ðŸš€ Modo Simples (Recomendado)
Uso mais fÃ¡cil - sem complexidade de IDs:

NÃ£o inclua action nem id no payload
Gerencia automaticamente um Ãºnico webhook por instÃ¢ncia
Cria novo ou atualiza o existente automaticamente
Recomendado: Sempre use "excludeMessages": ["wasSentByApi"] para evitar loops
Exemplo: {"url": "https://meusite.com/webhook", "events": ["messages"], "excludeMessages": ["wasSentByApi"]}
ðŸ§ª Sites para Testes (ordenados por qualidade)
Para testar webhooks durante desenvolvimento:

https://webhook.cool/ - â­ Melhor opÃ§Ã£o (sem rate limit, interface limpa)
https://rbaskets.in/ - â­ Boa alternativa (confiÃ¡vel, baixo rate limit)
https://webhook.site/ - âš ï¸ Evitar se possÃ­vel (rate limit agressivo)
âš™ï¸ Modo AvanÃ§ado (Para mÃºltiplos webhooks)
Para usuÃ¡rios que precisam de mÃºltiplos webhooks por instÃ¢ncia:

ðŸ’¡ Dica: Mesmo precisando de mÃºltiplos webhooks, considere usar addUrlEvents no modo simples. Um Ãºnico webhook pode receber diferentes tipos de eventos em URLs especÃ­ficas (ex: /webhook/message, /webhook/connection), eliminando a necessidade de mÃºltiplos webhooks.

Criar Novo Webhook:

Use action: "add"
NÃ£o inclua id no payload
O sistema gera ID automaticamente
Atualizar Webhook Existente:

Use action: "update"
Inclua o id do webhook no payload
Todos os campos serÃ£o atualizados
Remover Webhook:

Use action: "delete"
Inclua apenas o id do webhook
Outros campos sÃ£o ignorados
Eventos DisponÃ­veis
connection: AlteraÃ§Ãµes no estado da conexÃ£o
history: Recebimento de histÃ³rico de mensagens
messages: Novas mensagens recebidas
messages_update: AtualizaÃ§Ãµes em mensagens existentes
call: Eventos de chamadas VoIP
contacts: AtualizaÃ§Ãµes na agenda de contatos
presence: AlteraÃ§Ãµes no status de presenÃ§a
groups: ModificaÃ§Ãµes em grupos
labels: Gerenciamento de etiquetas
chats: Eventos de conversas
chat_labels: AlteraÃ§Ãµes em etiquetas de conversas
blocks: Bloqueios/desbloqueios
leads: AtualizaÃ§Ãµes de leads
sender: AtualizaÃ§Ãµes de campanhas, quando inicia, e quando completa
Remover mensagens com base nos filtros:

wasSentByApi: Mensagens originadas pela API âš ï¸ IMPORTANTE: Use sempre este filtro para evitar loops em automaÃ§Ãµes
wasNotSentByApi: Mensagens nÃ£o originadas pela API
fromMeYes: Mensagens enviadas pelo usuÃ¡rio
fromMeNo: Mensagens recebidas de terceiros
isGroupYes: Mensagens em grupos
isGroupNo: Mensagens em conversas individuais
ðŸ’¡ PrevenÃ§Ã£o de Loops: Se vocÃª tem automaÃ§Ãµes que enviam mensagens via API, sempre inclua "excludeMessages": ["wasSentByApi"] no seu webhook. Caso prefira receber esses eventos, certifique-se de que sua automaÃ§Ã£o detecta mensagens enviadas pela prÃ³pria API para nÃ£o criar loops infinitos.

AÃ§Ãµes Suportadas:

add: Registrar novo webhook
delete: Remover webhook existente
ParÃ¢metros de URL:

addUrlEvents (boolean): Quando ativo, adiciona o tipo do evento como path parameter na URL. Exemplo: https://api.example.com/webhook/{evento}
addUrlTypesMessages (boolean): Quando ativo, adiciona o tipo da mensagem como path parameter na URL. Exemplo: https://api.example.com/webhook/{tipo_mensagem}
CombinaÃ§Ãµes de ParÃ¢metros:

Ambos ativos: https://api.example.com/webhook/{evento}/{tipo_mensagem} Exemplo real: https://api.example.com/webhook/message/conversation
Apenas eventos: https://api.example.com/webhook/message
Apenas tipos: https://api.example.com/webhook/conversation
Notas TÃ©cnicas:

Os parÃ¢metros sÃ£o adicionados na ordem: evento â†’ tipo mensagem
A URL deve ser configurada para aceitar esses parÃ¢metros dinÃ¢micos
Funciona com qualquer combinaÃ§Ã£o de eventos/mensagens
Request
Body
id
string
ID Ãºnico do webhook (necessÃ¡rio para update/delete)

Example: "123e4567-e89b-12d3-a456-426614174000"

enabled
boolean
Habilita/desabilita o webhook

Example: true

url
string
required
URL para receber os eventos

Example: "https://example.com/webhook"

events
array
Lista de eventos monitorados

excludeMessages
array
Filtros para excluir tipos de mensagens

addUrlEvents
boolean
Adiciona o tipo do evento como parÃ¢metro na URL.

false (padrÃ£o): URL normal
true: Adiciona evento na URL (ex: /webhook/message)
addUrlTypesMessages
boolean
Adiciona o tipo da mensagem como parÃ¢metro na URL.

false (padrÃ£o): URL normal
true: Adiciona tipo da mensagem (ex: /webhook/conversation)
action
string
AÃ§Ã£o a ser executada:

add: criar novo webhook
update: atualizar webhook existente (requer id)
delete: remover webhook (requer apenas id) Se nÃ£o informado, opera no modo simples (Ãºnico webhook)
Responses

200
Webhook configurado ou atualizado com sucesso

400
RequisiÃ§Ã£o invÃ¡lida

401
Token invÃ¡lido ou nÃ£o fornecido

500
Erro interno do servidor

GET
/sse
Server-Sent Events (SSE)
Receber eventos em tempo real via Server-Sent Events (SSE)

Funcionalidades Principais:
ConfiguraÃ§Ã£o de URL para recebimento de eventos
SeleÃ§Ã£o granular de tipos de eventos
Filtragem avanÃ§ada de mensagens
ParÃ¢metros adicionais na URL
Gerenciamento mÃºltiplo de webhooks
Eventos DisponÃ­veis:

connection: AlteraÃ§Ãµes no estado da conexÃ£o
history: Recebimento de histÃ³rico de mensagens
messages: Novas mensagens recebidas
messages_update: AtualizaÃ§Ãµes em mensagens existentes
call: Eventos de chamadas VoIP
contacts: AtualizaÃ§Ãµes na agenda de contatos
presence: AlteraÃ§Ãµes no status de presenÃ§a
groups: ModificaÃ§Ãµes em grupos
labels: Gerenciamento de etiquetas
chats: Eventos de conversas
chat_labels: AlteraÃ§Ãµes em etiquetas de conversas
blocks: Bloqueios/desbloqueios
leads: AtualizaÃ§Ãµes de leads
Estabelece uma conexÃ£o persistente para receber eventos em tempo real. Este endpoint:

Requer autenticaÃ§Ã£o via token

MantÃ©m uma conexÃ£o HTTP aberta com o cliente

Envia eventos conforme ocorrem no servidor

Suporta diferentes tipos de eventos

Exemplo de uso:


const eventSource = new
EventSource('/sse?token=SEU_TOKEN&events=chats,messages');


eventSource.onmessage = function(event) {
  const data = JSON.parse(event.data);
  console.log('Novo evento:', data);
};


eventSource.onerror = function(error) {
  console.error('Erro na conexÃ£o SSE:', error);
};

Estrutura de um evento:


{
  "type": "message",
  "data": {
    "id": "3EB0538DA65A59F6D8A251",
    "from": "5511999999999@s.whatsapp.net",
    "to": "5511888888888@s.whatsapp.net",
    "text": "OlÃ¡!",
    "timestamp": 1672531200000
  }
}

Parameters
Query Parameters
token
string
required
Token de autenticaÃ§Ã£o da instÃ¢ncia

events
string
required
Tipos de eventos a serem recebidos (separados por vÃ­rgula)

TAG
Enviar Mensagem
Endpoints para envio de mensagens do WhatsApp com diferentes tipos de conteÃºdo.

Campos Opcionais Comuns
Todos os endpoints de envio de mensagem suportam os seguintes campos opcionais:

delay (integer): Atraso em milissegundos antes do envio

Durante o atraso aparecerÃ¡ "Digitando..." ou "Gravando Ã¡udio..." dependendo do tipo
Exemplo: 5000 (5 segundos)
readchat (boolean): Marcar chat como lido apÃ³s envio

Remove o contador de mensagens nÃ£o lidas do chat
Exemplo: true
readmessages (boolean): Marcar Ãºltimas mensagens recebidas como lidas

Marca as Ãºltimas 10 mensagens recebidas (nÃ£o enviadas por vocÃª) como lidas
Ãštil para confirmar leitura de mensagens pendentes antes de responder
Diferente do readchat que apenas remove contador de nÃ£o lidas
Exemplo: true
replyid (string): ID da mensagem para responder

Cria uma resposta vinculada Ã  mensagem original
Suporte varia por tipo de mensagem
Exemplo: "3A12345678901234567890123456789012"
mentions (string): NÃºmeros para mencionar (apenas para envio em grupos)

NÃºmeros especÃ­ficos: "5511999999999,5511888888888"
Mencionar todos: "all"
forward (boolean): Marca a mensagem como encaminhada no WhatsApp

Adiciona o indicador "Encaminhada" na mensagem
Exemplo: true
track_source (string): Origem do rastreamento da mensagem

Identifica o sistema ou fonte que estÃ¡ enviando a mensagem
Ãštil para integraÃ§Ãµes (ex: "chatwoot", "crm", "chatbot")
Exemplo: "chatwoot"
track_id (string): ID para rastreamento da mensagem

Identificador livre para acompanhar a mensagem em sistemas externos
Permite correlacionar mensagens entre diferentes plataformas
Nota: O sistema aceita valores duplicados - nÃ£o hÃ¡ validaÃ§Ã£o de unicidade
Use o mesmo ID em vÃ¡rias mensagens se fizer sentido para sua integraÃ§Ã£o
Exemplo: "msg_123456789"
Envio para Grupos
number (string): Para enviar mensagem para grupo, use o ID do grupo que termina com @g.us
Exemplo: "120363012345678901@g.us"
Como obter o ID do grupo:
Use o chatid do webhook recebido quando alguÃ©m envia mensagem no grupo
Use o endpoint GET /group/list para listar todos os grupos e seus IDs
Placeholders DisponÃ­veis
Todos os endpoints de envio de mensagem suportam placeholders dinÃ¢micos para personalizaÃ§Ã£o automÃ¡tica:

Campos de Nome
{{name}}: Nome consolidado do chat, usando a primeira opÃ§Ã£o disponÃ­vel:

Nome do lead (lead_name)
Nome completo do lead (lead_fullName)
Nome do contato no WhatsApp (wa_contactName)
Nome do perfil do WhatsApp (wa_name)
{{first_name}}: Primeira palavra vÃ¡lida do nome consolidado (mÃ­nimo 2 caracteres)

Campos do WhatsApp
{{wa_name}}: Nome do perfil do WhatsApp
{{wa_contactName}}: Nome do contato como salvo no WhatsApp
Campos do Lead
{{lead_name}}: Nome do lead
{{lead_fullName}}: Nome completo do lead
{{lead_personalid}}: ID pessoal (CPF, CNPJ, etc)
{{lead_email}}: Email do lead
{{lead_status}}: Status atual do lead
{{lead_notes}}: AnotaÃ§Ãµes do lead
{{lead_assignedAttendant_id}}: ID do atendente designado
Campos Personalizados
Campos adicionados via custom fields sÃ£o acessÃ­veis usando {{lead_field01}} Ã  {{lead_field20}} ou usar {{nomedocampo}} definido em /instance/updateFieldsMap.

Exemplo de Uso
OlÃ¡ {{name}}! Vi que vocÃª trabalha na {{company}}.
Seu email {{lead_email}} estÃ¡ correto?
ðŸ’¡ Dica: Use /chat/find para buscar dados do chat e ver os campos disponÃ­veis antes de enviar mensagens com placeholders.

POST
Enviar mensagem de texto
POST
Enviar mÃ­dia (imagem, vÃ­deo, Ã¡udio ou documento)
POST
Enviar cartÃ£o de contato (vCard)
POST
Enviar localizaÃ§Ã£o geogrÃ¡fica
POST
Enviar atualizaÃ§Ã£o de presenÃ§a
POST
Enviar Stories (Status)
POST
Enviar menu interativo (botÃµes, carrosel, lista ou enquete)
POST
Enviar carrossel de mÃ­dia com botÃµes
POST
Solicitar localizaÃ§Ã£o do usuÃ¡rio
POST
Solicitar pagamento
POST
Enviar botÃ£o PIX

POST
/send/text
Enviar mensagem de texto
Envia uma mensagem de texto para um contato ou grupo.

Recursos EspecÃ­ficos
Preview de links com suporte a personalizaÃ§Ã£o automÃ¡tica ou customizada
FormataÃ§Ã£o bÃ¡sica do texto
SubstituiÃ§Ã£o automÃ¡tica de placeholders dinÃ¢micos
Campos Comuns
Este endpoint suporta todos os campos opcionais comuns documentados na tag "Enviar Mensagem", incluindo: delay, readchat, readmessages, replyid, mentions, forward, track_source, track_id, placeholders e envio para grupos.

Preview de Links
Preview AutomÃ¡tico
{
  "number": "5511999999999",
  "text": "Confira: https://exemplo.com",
  "linkPreview": true
}
Preview Personalizado
{
  "number": "5511999999999",
  "text": "Confira nosso site! https://exemplo.com",
  "linkPreview": true,
  "linkPreviewTitle": "TÃ­tulo Personalizado",
  "linkPreviewDescription": "Uma descriÃ§Ã£o personalizada do link",
  "linkPreviewImage": "https://exemplo.com/imagem.jpg",
  "linkPreviewLarge": true
}
Request
Body
number
string
required
NÃºmero do destinatÃ¡rio (formato internacional)

Example: "5511999999999"

text
string
required
Texto da mensagem (aceita placeholders)

Example: "OlÃ¡ {{name}}! Como posso ajudar?"

linkPreview
boolean
Ativa/desativa preview de links. Se true, procura automaticamente um link no texto para gerar preview.

Comportamento:

Se apenas linkPreview=true: gera preview automÃ¡tico do primeiro link encontrado no texto
Se fornecidos campos personalizados (title, description, image): usa os valores fornecidos
Se campos personalizados parciais: combina com dados automÃ¡ticos do link como fallback
Example: true

linkPreviewTitle
string
Define um tÃ­tulo personalizado para o preview do link

Example: "TÃ­tulo Personalizado"

linkPreviewDescription
string
Define uma descriÃ§Ã£o personalizada para o preview do link

Example: "DescriÃ§Ã£o personalizada do link"

linkPreviewImage
string
URL ou Base64 da imagem para usar no preview do link

Example: "https://exemplo.com/imagem.jpg"

linkPreviewLarge
boolean
Se true, gera um preview grande com upload da imagem. Se false, gera um preview pequeno sem upload

Example: true

replyid
string
ID da mensagem para responder

Example: "3EB0538DA65A59F6D8A251"

mentions
string
NÃºmeros para mencionar (separados por vÃ­rgula)

Example: "5511999999999,5511888888888"

readchat
boolean
Marca conversa como lida apÃ³s envio

Example: true

readmessages
boolean
Marca Ãºltimas mensagens recebidas como lidas

Example: true

delay
integer
Atraso em milissegundos antes do envio, durante o atraso apacerÃ¡ 'Digitando...'

Example: 1000

forward
boolean
Marca a mensagem como encaminhada no WhatsApp

Example: true

track_source
string
Origem do rastreamento da mensagem

Example: "chatwoot"

track_id
string
ID para rastreamento da mensagem (aceita valores duplicados)

Example: "msg_123456789"

Responses

200
Mensagem enviada com sucesso

400
RequisiÃ§Ã£o invÃ¡lida

401
NÃ£o autorizado

429
Limite de requisiÃ§Ãµes excedido

500
Erro interno do servidor

Enviar mÃ­dia (imagem, vÃ­deo, Ã¡udio ou documento)
Envia diferentes tipos de mÃ­dia para um contato ou grupo. Suporta URLs ou arquivos base64.

Tipos de MÃ­dia Suportados
image: Imagens (JPG preferencialmente)
video: VÃ­deos (apenas MP4)
document: Documentos (PDF, DOCX, XLSX, etc)
audio: Ãudio comum (MP3 ou OGG)
myaudio: Mensagem de voz (alternativa ao PTT)
ptt: Mensagem de voz (Push-to-Talk)
sticker: Figurinha/Sticker
Recursos EspecÃ­ficos
Upload por URL ou base64
Caption/legenda opcional com suporte a placeholders
Nome personalizado para documentos (docName)
GeraÃ§Ã£o automÃ¡tica de thumbnails
CompressÃ£o otimizada conforme o tipo
Campos Comuns
Este endpoint suporta todos os campos opcionais comuns documentados na tag "Enviar Mensagem", incluindo: delay, readchat, readmessages, replyid, mentions, forward, track_source, track_id, placeholders e envio para grupos.

Exemplos BÃ¡sicos
Imagem Simples
{
  "number": "5511999999999",
  "type": "image",
  "file": "https://exemplo.com/foto.jpg"
}
Documento com Nome
{
  "number": "5511999999999",
  "type": "document",
  "file": "https://exemplo.com/contrato.pdf",
  "docName": "Contrato.pdf",
  "text": "Segue o documento solicitado"
}
Request
Body
number
string
required
NÃºmero do destinatÃ¡rio (formato internacional)

Example: "5511999999999"

type
string
required
Tipo de mÃ­dia (image, video, document, audio, myaudio, ptt, sticker)

Example: "image"

file
string
required
URL ou base64 do arquivo

Example: "https://exemplo.com/imagem.jpg"

text
string
Texto descritivo (caption) - aceita placeholders

Example: "Veja esta foto!"

docName
string
Nome do arquivo (apenas para documents)

Example: "relatorio.pdf"

replyid
string
ID da mensagem para responder

Example: "3EB0538DA65A59F6D8A251"

mentions
string
NÃºmeros para mencionar (separados por vÃ­rgula)

Example: "5511999999999,5511888888888"

readchat
boolean
Marca conversa como lida apÃ³s envio

Example: true

readmessages
boolean
Marca Ãºltimas mensagens recebidas como lidas

Example: true

delay
integer
Atraso em milissegundos antes do envio, durante o atraso apacerÃ¡ 'Digitando...' ou 'Gravando Ã¡udio...'

Example: 1000

forward
boolean
Marca a mensagem como encaminhada no WhatsApp

Example: true

track_source
string
Origem do rastreamento da mensagem

Example: "chatwoot"

track_id
string
ID para rastreamento da mensagem (aceita valores duplicados)

Example: "msg_123456789"

Responses

200
MÃ­dia enviada com sucesso

400
RequisiÃ§Ã£o invÃ¡lida

401
NÃ£o autorizado

413
Arquivo muito grande

415
Formato de mÃ­dia nÃ£o suportado

500
Erro interno do servidor


POST
/send/contact
Enviar cartÃ£o de contato (vCard)
Envia um cartÃ£o de contato (vCard) para um contato ou grupo.

Recursos EspecÃ­ficos
vCard completo com nome, telefones, organizaÃ§Ã£o, email e URL
MÃºltiplos nÃºmeros de telefone (separados por vÃ­rgula)
CartÃ£o clicÃ¡vel no WhatsApp para salvar na agenda
InformaÃ§Ãµes profissionais (organizaÃ§Ã£o/empresa)
Campos Comuns
Este endpoint suporta todos os campos opcionais comuns documentados na tag "Enviar Mensagem", incluindo: delay, readchat, readmessages, replyid, mentions, forward, track_source, track_id, placeholders e envio para grupos.

Exemplo BÃ¡sico
{
  "number": "5511999999999",
  "fullName": "JoÃ£o Silva",
  "phoneNumber": "5511999999999,5511888888888",
  "organization": "Empresa XYZ",
  "email": "joao.silva@empresa.com",
  "url": "https://empresa.com/joao"
}
Request
Body
number
string
required
NÃºmero do destinatÃ¡rio (formato internacional)

Example: "5511999999999"

fullName
string
required
Nome completo do contato

Example: "JoÃ£o Silva"

phoneNumber
string
required
NÃºmeros de telefone (separados por vÃ­rgula)

Example: "5511999999999,5511888888888"

organization
string
Nome da organizaÃ§Ã£o/empresa

Example: "Empresa XYZ"

email
string
EndereÃ§o de email

Example: "joao@empresa.com"

url
string
URL pessoal ou da empresa

Example: "https://empresa.com/joao"

replyid
string
ID da mensagem para responder

Example: "3EB0538DA65A59F6D8A251"

mentions
string
NÃºmeros para mencionar (separados por vÃ­rgula)

Example: "5511999999999,5511888888888"

readchat
boolean
Marca conversa como lida apÃ³s envio

Example: true

readmessages
boolean
Marca Ãºltimas mensagens recebidas como lidas

Example: true

delay
integer
Atraso em milissegundos antes do envio, durante o atraso apacerÃ¡ 'Digitando...'

Example: 1000

forward
boolean
Marca a mensagem como encaminhada no WhatsApp

Example: true

track_source
string
Origem do rastreamento da mensagem

Example: "chatwoot"

track_id
string
ID para rastreamento da mensagem (aceita valores duplicados)

Example: "msg_123456789"

Responses

200
CartÃ£o de contato enviado com sucesso

400
RequisiÃ§Ã£o invÃ¡lida

401
NÃ£o autorizado

429
Limite de requisiÃ§Ãµes excedido

500
Erro interno do servidor

POST
/message/download
Baixar arquivo de uma mensagem
Baixa o arquivo associado a uma mensagem de mÃ­dia (imagem, vÃ­deo, Ã¡udio, documento ou sticker).

ParÃ¢metros
id (string, obrigatÃ³rio): ID da mensagem
return_base64 (boolean, default: false): Retorna arquivo em base64
generate_mp3 (boolean, default: true): Para Ã¡udios, define formato de retorno
true: Retorna MP3
false: Retorna OGG
return_link (boolean, default: true): Retorna URL pÃºblica do arquivo
transcribe (boolean, default: false): Transcreve Ã¡udios para texto
openai_apikey (string, opcional): Chave OpenAI para transcriÃ§Ã£o
Se nÃ£o informada, usa a chave salva na instÃ¢ncia
Se informada, atualiza e salva na instÃ¢ncia para prÃ³ximas chamadas
download_quoted (boolean, default: false): Baixa mÃ­dia da mensagem citada
Ãštil para baixar conteÃºdo original de status do WhatsApp
Quando uma mensagem Ã© resposta a um status, permite baixar a mÃ­dia do status original
ContextualizaÃ§Ã£o: Ao baixar a mÃ­dia citada, vocÃª identifica o contexto da conversa
Exemplo: Se alguÃ©m responde a uma promoÃ§Ã£o, baixando a mÃ­dia vocÃª saberÃ¡ que a pergunta Ã© sobre aquela promoÃ§Ã£o especÃ­fica
Exemplos
Baixar Ã¡udio como MP3:
{
  "id": "7EB0F01D7244B421048F0706368376E0",
  "generate_mp3": true
}
Transcrever Ã¡udio:
{
  "id": "7EB0F01D7244B421048F0706368376E0",
  "transcribe": true
}
Apenas base64 (sem salvar):
{
  "id": "7EB0F01D7244B421048F0706368376E0",
  "return_base64": true,
  "return_link": false
}
Baixar mÃ­dia de status (mensagem citada):
{
  "id": "7EB0F01D7244B421048F0706368376E0",
  "download_quoted": true
}
Ãštil quando o cliente responde a uma promoÃ§Ã£o/status - vocÃª baixa a mÃ­dia original para entender sobre qual produto/oferta ele estÃ¡ perguntando.

Resposta
{
  "fileURL": "https://api.exemplo.com/files/arquivo.mp3",
  "mimetype": "audio/mpeg",
  "base64Data": "UklGRkj...",
  "transcription": "Texto transcrito"
}
Nota:

Por padrÃ£o, se nÃ£o definido o contrÃ¡rio:
Ã¡udios sÃ£o retornados como MP3.
E todos os pedidos de download sÃ£o retornados com URL pÃºblica.
TranscriÃ§Ã£o requer chave OpenAI vÃ¡lida. A chave pode ser configurada uma vez na instÃ¢ncia e serÃ¡ reutilizada automaticamente.
Request
Body
id
string
required
ID da mensagem contendo o arquivo

Example: "7EB0F01D7244B421048F0706368376E0"

return_base64
boolean
Se verdadeiro, retorna o conteÃºdo em base64

generate_mp3
boolean
Para Ã¡udios, define formato de retorno (true=MP3, false=OGG)

return_link
boolean
Salva e retorna URL pÃºblica do arquivo

transcribe
boolean
Se verdadeiro, transcreve Ã¡udios para texto

openai_apikey
string
Chave da API OpenAI para transcriÃ§Ã£o (opcional)

Example: "sk-..."

download_quoted
boolean
Se verdadeiro, baixa mÃ­dia da mensagem citada ao invÃ©s da mensagem principal

Responses

200
Successful file download

400
Bad Request

401
Unauthorized

404
Not Found

500
Internal Server Error

POST
/message/find
Buscar mensagens em um chat
Busca mensagens com mÃºltiplos filtros disponÃ­veis. Este endpoint permite:

Busca por ID especÃ­fico: Use id para encontrar uma mensagem exata
Filtrar por chat: Use chatid para mensagens de uma conversa especÃ­fica
Filtrar por rastreamento: Use track_source e track_id para mensagens com dados de tracking
Limitar resultados: Use limit para controlar quantas mensagens retornar
OrdenaÃ§Ã£o: Resultados ordenados por data (mais recentes primeiro)
Request
Body
id
string
ID especÃ­fico da mensagem para busca exata

Example: "user123:r3EB0538"

chatid
string
ID do chat no formato internacional

Example: "5511999999999@s.whatsapp.net"

track_source
string
Origem do rastreamento para filtrar mensagens

Example: "chatwoot"

track_id
string
ID de rastreamento para filtrar mensagens

Example: "msg_123456789"

limit
integer
Numero maximo de mensagens a retornar (padrao 100)

Example: 20

offset
integer
Deslocamento para paginacao (0 retorna as mensagens mais recentes)

POST
/message/markread
Marcar mensagens como lidas
Marca uma ou mais mensagens como lidas. Este endpoint permite:

Marcar mÃºltiplas mensagens como lidas de uma vez
Atualizar o status de leitura no WhatsApp
Sincronizar o status de leitura entre dispositivos
Exemplo de requisiÃ§Ã£o bÃ¡sica:

{
  "id": [
    "62AD1AD844E518180227BF68DA7ED710",
    "ECB9DE48EB41F77BFA8491BFA8D6EF9B"  
  ]
}
Exemplo de resposta:

{
  "success": true,
  "message": "Messages marked as read",
  "markedMessages": [
    {
      "id": "62AD1AD844E518180227BF68DA7ED710",
      "timestamp": 1672531200000
    },
    {
      "id": "ECB9DE48EB41F77BFA8491BFA8D6EF9B",
      "timestamp": 1672531300000
    }
  ]
}
ParÃ¢metros disponÃ­veis:

id: Lista de IDs das mensagens a serem marcadas como lidas
Erros comuns:

401: Token invÃ¡lido ou expirado
400: Lista de IDs vazia ou invÃ¡lida
404: Uma ou mais mensagens nÃ£o encontradas
500: Erro ao marcar mensagens como lidas
Request
Body
id
array
required
Lista de IDs das mensagens a serem marcadas como lidas

Example: ["62AD1AD844E518180227BF68DA7ED710","ECB9DE48EB41F77BFA8491BFA8D6EF9B"]

POST
/message/react
Enviar reaÃ§Ã£o a uma mensagem
Envia uma reaÃ§Ã£o (emoji) a uma mensagem especÃ­fica. Este endpoint permite:

Adicionar ou remover reaÃ§Ãµes em mensagens

Usar qualquer emoji Unicode vÃ¡lido

Reagir a mensagens em chats individuais ou grupos

Remover reaÃ§Ãµes existentes

Verificar o status da reaÃ§Ã£o enviada

Tipos de reaÃ§Ãµes suportados:

Qualquer emoji Unicode vÃ¡lido (ðŸ‘, â¤ï¸, ðŸ˜‚, etc)

String vazia para remover reaÃ§Ã£o

Exemplo de requisiÃ§Ã£o bÃ¡sica:


{
  "number": "5511999999999@s.whatsapp.net",
  "text": "ðŸ‘",
  "id": "3EB0538DA65A59F6D8A251"
}

Exemplo de requisiÃ§Ã£o para remover reaÃ§Ã£o:


{
  "number": "5511999999999@s.whatsapp.net",
  "text": "",
  "id": "3EB0538DA65A59F6D8A251"
}

Exemplo de resposta:


{
  "success": true,
  "message": "Reaction sent",
  "reaction": {
    "id": "3EB0538DA65A59F6D8A251",
    "emoji": "ðŸ‘",
    "timestamp": 1672531200000,
    "status": "sent"
  }
}

Exemplo de resposta ao remover reaÃ§Ã£o:


{
  "success": true,
  "message": "Reaction removed",
  "reaction": {
    "id": "3EB0538DA65A59F6D8A251",
    "emoji": null,
    "timestamp": 1672531200000,
    "status": "removed"
  }
}

ParÃ¢metros disponÃ­veis:

number: NÃºmero do chat no formato internacional (ex: 5511999999999@s.whatsapp.net)

text: Emoji Unicode da reaÃ§Ã£o (ou string vazia para remover reaÃ§Ã£o)

id: ID da mensagem que receberÃ¡ a reaÃ§Ã£o

Erros comuns:

401: Token invÃ¡lido ou expirado

400: NÃºmero invÃ¡lido ou emoji nÃ£o suportado

404: Mensagem nÃ£o encontrada

500: Erro ao enviar reaÃ§Ã£o

LimitaÃ§Ãµes:

SÃ³ Ã© possÃ­vel reagir a mensagens enviadas por outros usuÃ¡rios

NÃ£o Ã© possÃ­vel reagir a mensagens antigas (mais de 7 dias)

O mesmo usuÃ¡rio sÃ³ pode ter uma reaÃ§Ã£o ativa por mensagem

Request
Body
number
string
required
NÃºmero do chat no formato internacional

Example: "5511999999999@s.whatsapp.net"

text
string
required
Emoji Unicode da reaÃ§Ã£o (ou string vazia para remover reaÃ§Ã£o)

Example: "ðŸ‘"

id
string
required
ID da mensagem que receberÃ¡ a reaÃ§Ã£o

Example: "3EB0538DA65A59F6D8A251"

POST
/message/delete
Apagar Mensagem Para Todos
Apaga uma mensagem para todos os participantes da conversa.

Funcionalidades:
Apaga mensagens em conversas individuais ou grupos
Funciona com mensagens enviadas pelo usuÃ¡rio ou recebidas
Atualiza o status no banco de dados
Envia webhook de atualizaÃ§Ã£o
Notas TÃ©cnicas:

O ID da mensagem pode ser fornecido em dois formatos:
ID completo (contÃ©m ":"): usado diretamente
ID curto: concatenado com o owner para busca
Gera evento webhook do tipo "messages_update"
Atualiza o status da mensagem para "Deleted"
Request
Body
id
string
required
ID da mensagem a ser apagada

POST
/message/edit
Edita uma mensagem enviada
Edita o conteÃºdo de uma mensagem jÃ¡ enviada usando a funcionalidade nativa do WhatsApp.

O endpoint realiza:

Busca a mensagem original no banco de dados usando o ID fornecido
Edita o conteÃºdo da mensagem para o novo texto no WhatsApp
Gera um novo ID para a mensagem editada
Retorna objeto de mensagem completo seguindo o padrÃ£o da API
Dispara eventos SSE/Webhook automaticamente
Importante:

SÃ³ Ã© possÃ­vel editar mensagens enviadas pela prÃ³pria instÃ¢ncia
A mensagem deve existir no banco de dados
O ID pode ser fornecido no formato completo (owner:messageid) ou apenas messageid
A mensagem deve estar dentro do prazo permitido pelo WhatsApp para ediÃ§Ã£o
Request
Body
id
string
required
ID Ãºnico da mensagem que serÃ¡ editada (formato owner:messageid ou apenas messageid)

Example: "3A12345678901234567890123456789012"

text
string
required
Novo conteÃºdo de texto da mensagem

Example: "Texto editado da mensagem"

POST
/chat/delete
Deleta chat
Deleta um chat e/ou suas mensagens do WhatsApp e/ou banco de dados. VocÃª pode escolher deletar:

Apenas do WhatsApp
Apenas do banco de dados
Apenas as mensagens do banco de dados
Qualquer combinaÃ§Ã£o das opÃ§Ãµes acima
Request
Body
number
string
required
NÃºmero do chat no formato internacional. Para grupos use o ID completo do grupo.

Example: "5511999999999"

deleteChatDB
boolean
Se true, deleta o chat do banco de dados

Example: true

deleteMessagesDB
boolean
Se true, deleta todas as mensagens do chat do banco de dados

Example: true

deleteChatWhatsApp
boolean
Se true, deleta o chat do WhatsApp

Example: true

POST
/chat/archive
Arquivar/desarquivar chat
Altera o estado de arquivamento de um chat do WhatsApp.

Quando arquivado, o chat Ã© movido para a seÃ§Ã£o de arquivados no WhatsApp
A aÃ§Ã£o Ã© sincronizada entre todos os dispositivos conectados
NÃ£o afeta as mensagens ou o conteÃºdo do chat
Request
Body
number
string
required
NÃºmero do telefone (formato E.164) ou ID do grupo

Example: "5511999999999"

archive
boolean
required
true para arquivar, false para desarquivar

Example: true

POST
/chat/read
Marcar chat como lido/nÃ£o lido
Atualiza o status de leitura de um chat no WhatsApp.

Quando um chat Ã© marcado como lido:

O contador de mensagens nÃ£o lidas Ã© zerado
O indicador visual de mensagens nÃ£o lidas Ã© removido
O remetente recebe confirmaÃ§Ã£o de leitura (se ativado)
Quando marcado como nÃ£o lido:

O chat aparece como pendente de leitura
NÃ£o afeta as confirmaÃ§Ãµes de leitura jÃ¡ enviadas
Request
Body
number
string
required
Identificador do chat no formato:

Para usuÃ¡rios: [nÃºmero]@s.whatsapp.net (ex: 5511999999999@s.whatsapp.net)
Para grupos: [id-grupo]@g.us (ex: 123456789-987654321@g.us)
Example: "5511999999999@s.whatsapp.net"

read
boolean
required
true: marca o chat como lido
false: marca o chat como nÃ£o lido

POST
/chat/find
Busca chats com filtros
Busca chats com diversos filtros e ordenaÃ§Ã£o. Suporta filtros em todos os campos do chat, paginaÃ§Ã£o e ordenaÃ§Ã£o customizada.

Operadores de filtro:

~ : LIKE (contÃ©m)
!~ : NOT LIKE (nÃ£o contÃ©m)
!= : diferente
>= : maior ou igual
> : maior que
<= : menor ou igual
< : menor que
Sem operador: LIKE (contÃ©m)
Request
Body
operator
string
Operador lÃ³gico entre os filtros

sort
string
Campo para ordenaÃ§Ã£o (+/-campo). Ex -wa_lastMsgTimestamp

limit
integer
Limite de resultados por pÃ¡gina

offset
integer
Offset para paginaÃ§Ã£o

wa_fastid
string
wa_chatid
string
wa_archived
boolean
wa_contactName
string
wa_name
string
name
string
wa_isBlocked
boolean
wa_isGroup
boolean
wa_isGroup_admin
boolean
wa_isGroup_announce
boolean
wa_isGroup_member
boolean
wa_isPinned
boolean
wa_label
string
lead_tags
string
lead_isTicketOpen
boolean
lead_assignedAttendant_id
string
lead_status
string

POST
/chat/labels
Gerencia labels de um chat
Atualiza as labels associadas a um chat especÃ­fico. Este endpoint oferece trÃªs modos de operaÃ§Ã£o:

Definir todas as labels (labelids): Define o conjunto completo de labels para o chat, substituindo labels existentes
Adicionar uma label (add_labelid): Adiciona uma Ãºnica label ao chat sem afetar as existentes
Remover uma label (remove_labelid): Remove uma Ãºnica label do chat sem afetar as outras
Importante: Use apenas um dos trÃªs parÃ¢metros por requisiÃ§Ã£o. Labels inexistentes serÃ£o rejeitadas.

As labels devem ser fornecidas no formato id ou labelid encontradas na funÃ§Ã£o get labels.

Request
Body
number
string
required
NÃºmero do chat ou grupo

Example: "5511999999999"

labelids
array
Lista de IDs das labels a serem aplicadas ao chat (define todas as labels)

Example: ["10","20"]

add_labelid
string
ID da label a ser adicionada ao chat

Example: "10"

remove_labelid
string
ID da label a ser removida do chat

Example: "20"

Responses

200
Labels atualizadas com sucesso

400
Erro na requisiÃ§Ã£o

404
Chat nÃ£o encontrado

POST
/label/edit
Editar etiqueta
Edita uma etiqueta existente na instÃ¢ncia. Permite alterar nome, cor ou deletar a etiqueta.

Request
Body
labelid
string
required
ID da etiqueta a ser editada

Example: "25"

name
string
Novo nome da etiqueta

Example: "responder editado"

color
integer
CÃ³digo numÃ©rico da nova cor (0-19)

Example: 2

delete
boolean
Indica se a etiqueta deve ser deletada

Responses

200
Etiqueta editada com sucesso

400
Payload invÃ¡lido

500
Erro interno do servidor ou sessÃ£o invÃ¡lida

GET
/labels
Buscar todas as etiquetas
Retorna a lista completa de etiquetas da instÃ¢ncia.

Responses

200
Lista de etiquetas retornada com sucesso

500
Erro interno do servidor

POST
/instance/updateFieldsMap
Atualizar campos personalizados de leads
Atualiza os campos personalizados (custom fields) de uma instÃ¢ncia. Permite configurar atÃ© 20 campos personalizados para armazenamento de informaÃ§Ãµes adicionais sobre leads.

Cada campo pode armazenar atÃ© 255 caracteres e aceita qualquer tipo de dado.

Campos disponÃ­veis:

lead_field01 a lead_field20
Exemplo de uso:

Armazenar informaÃ§Ãµes adicionais sobre leads
Criar campos personalizados para integraÃ§Ã£o com outros sistemas
Armazenar tags ou categorias personalizadas
Manter histÃ³rico de interaÃ§Ãµes com o lead
Exemplo de requisiÃ§Ã£o:

{
  "lead_field01": "nome",
  "lead_field02": "email",
  "lead_field03": "telefone",
  "lead_field04": "cidade",
  "lead_field05": "estado",
  "lead_field06": "idade",
  "lead_field07": "interesses",
  "lead_field08": "origem",
  "lead_field09": "status",
  "lead_field10": "valor",
  "lead_field11": "observacoes",
  "lead_field12": "ultima_interacao",
  "lead_field13": "proximo_contato",
  "lead_field14": "vendedor",
  "lead_field15": "produto_interesse",
  "lead_field16": "fonte_captacao",
  "lead_field17": "score",
  "lead_field18": "tags",
  "lead_field19": "historico",
  "lead_field20": "custom"
}
Exemplo de resposta:

{
  "success": true,
  "message": "Custom fields updated successfully",
  "instance": {
    "id": "r183e2ef9597845",
    "name": "minha-instancia",
    "fieldsMap": {
      "lead_field01": "nome",
      "lead_field02": "email",
      "lead_field03": "telefone",
      "lead_field04": "cidade",
      "lead_field05": "estado",
      "lead_field06": "idade",
      "lead_field07": "interesses",
      "lead_field08": "origem",
      "lead_field09": "status",
      "lead_field10": "valor",
      "lead_field11": "observacoes",
      "lead_field12": "ultima_interacao",
      "lead_field13": "proximo_contato",
      "lead_field14": "vendedor",
      "lead_field15": "produto_interesse",
      "lead_field16": "fonte_captacao",
      "lead_field17": "score",
      "lead_field18": "tags",
      "lead_field19": "historico",
      "lead_field20": "custom"
    }
  }
}
Erros comuns:

400: Campos invÃ¡lidos ou payload mal formatado
401: Token invÃ¡lido ou expirado
404: InstÃ¢ncia nÃ£o encontrada
500: Erro ao atualizar campos no banco de dados
RestriÃ§Ãµes:

Cada campo pode ter no mÃ¡ximo 255 caracteres
Campos vazios serÃ£o mantidos com seus valores atuais
Apenas os campos enviados serÃ£o atualizados
Request
Body
lead_field01
string
Campo personalizado 01

lead_field02
string
Campo personalizado 02

lead_field03
string
Campo personalizado 03

lead_field04
string
Campo personalizado 04

lead_field05
string
Campo personalizado 05

lead_field06
string
Campo personalizado 06

lead_field07
string
Campo personalizado 07

lead_field08
string
Campo personalizado 08

lead_field09
string
Campo personalizado 09

lead_field10
string
Campo personalizado 10

lead_field11
string
Campo personalizado 11

lead_field12
string
Campo personalizado 12

lead_field13
string
Campo personalizado 13

lead_field14
string
Campo personalizado 14

lead_field15
string
Campo personalizado 15

lead_field16
string
Campo personalizado 16

lead_field17
string
Campo personalizado 17

lead_field18
string
Campo personalizado 18

lead_field19
string
Campo personalizado 19

lead_field20
string
Campo personalizado 20

Responses

200
Sucesso

401
Token invÃ¡lido/expirado

404
InstÃ¢ncia nÃ£o encontrada

500
Erro interno

POST
/chat/editLead
Edita informaÃ§Ãµes de lead
Atualiza as informaÃ§Ãµes de lead associadas a um chat. Permite modificar status do ticket, atribuiÃ§Ã£o de atendente, posiÃ§Ã£o no kanban, tags e outros campos customizados.

As alteraÃ§Ãµes sÃ£o refletidas imediatamente no banco de dados e disparam eventos webhook/SSE para manter a aplicaÃ§Ã£o sincronizada.

Request
Body
id
string
required
Identificador do chat. Pode ser:

wa_chatid (ex: "5511999999999@s.whatsapp.net")
wa_fastid (ex: "5511888888888:5511999999999")
Example: "5511999999999@s.whatsapp.net"

chatbot_disableUntil
integer
Timestamp UTC atÃ© quando o chatbot deve ficar desativado para este chat. Use 0 para reativar imediatamente.

Example: 1735686000

lead_isTicketOpen
boolean
Status do ticket associado ao lead.

true: Ticket estÃ¡ aberto/em atendimento
false: Ticket estÃ¡ fechado/resolvido
Example: true

lead_assignedAttendant_id
string
ID do atendente atribuÃ­do ao lead. Use string vazia ("") para remover a atribuiÃ§Ã£o.

Example: "att_123456"

lead_kanbanOrder
integer
PosiÃ§Ã£o do card no quadro kanban. Valores maiores aparecem primeiro.

Example: 1000

lead_tags
array
Lista de tags associadas ao lead. Tags inexistentes sÃ£o criadas automaticamente. Envie array vazio ([]) para remover todas as tags.

Example: ["vip","suporte","prioridade-alta"]

lead_name
string
Nome principal do lead

Example: "JoÃ£o Silva"

lead_fullName
string
Nome completo do lead

Example: "JoÃ£o Silva Pereira"

lead_email
string
Email do lead

Example: "joao@exemplo.com"

lead_personalId
string
Documento de identificaÃ§Ã£o (CPF/CNPJ) Apenas nÃºmeros ou formatado

Example: "123.456.789-00"

lead_status
string
Status do lead no funil de vendas

Example: "qualificado"

lead_notes
string
AnotaÃ§Ãµes sobre o lead

Example: "Cliente interessado em plano premium"

lead_field01
string
Campo personalizado 1

lead_field02
string
Campo personalizado 2

lead_field03
string
Campo personalizado 3

lead_field04
string
Campo personalizado 4

lead_field05
string
Campo personalizado 5

lead_field06
string
Campo personalizado 6

lead_field07
string
Campo personalizado 7

lead_field08
string
Campo personalizado 8

lead_field09
string
Campo personalizado 9

lead_field10
string
Campo personalizado 10

lead_field11
string
Campo personalizado 11

lead_field12
string
Campo personalizado 12

lead_field13
string
Campo personalizado 13

lead_field14
string
Campo personalizado 14

lead_field15
string
Campo personalizado 15

lead_field16
string
Campo personalizado 16

lead_field17
string
Campo personalizado 17

lead_field18
string
Campo personalizado 18

lead_field19
string
Campo personalizado 19

lead_field20
string
Campo personalizado 20

Responses

GET
/chatwoot/config
Obter configuraÃ§Ã£o do Chatwoot
Retorna a configuraÃ§Ã£o atual da integraÃ§Ã£o com Chatwoot para a instÃ¢ncia.

Funcionalidades:
Retorna todas as configuraÃ§Ãµes do Chatwoot incluindo credenciais
Mostra status de habilitaÃ§Ã£o da integraÃ§Ã£o
Ãštil para verificar configuraÃ§Ãµes atuais antes de fazer alteraÃ§Ãµes
Responses

200
ConfiguraÃ§Ã£o obtida com sucesso

401
Token invÃ¡lido/expirado

500
Erro interno do servidor

PUT
/chatwoot/config
Atualizar configuraÃ§Ã£o do Chatwoot
Atualiza a configuraÃ§Ã£o da integraÃ§Ã£o com Chatwoot para a instÃ¢ncia.

Funcionalidades:
Configura todos os parÃ¢metros da integraÃ§Ã£o Chatwoot
Reinicializa automaticamente o cliente Chatwoot quando habilitado
Retorna URL do webhook para configurar no Chatwoot
SincronizaÃ§Ã£o bidirecional de mensagens novas entre WhatsApp e Chatwoot
SincronizaÃ§Ã£o automÃ¡tica de contatos (nome e telefone)
AtualizaÃ§Ã£o automÃ¡tica LID â†’ PN (Local ID para Phone Number)
Sistema de nomes inteligentes com til (~)
ConfiguraÃ§Ã£o no Chatwoot:
ApÃ³s configurar via API, use a URL retornada no webhook settings da inbox no Chatwoot
Configure como webhook URL na sua inbox do Chatwoot
A integraÃ§Ã£o ficarÃ¡ ativa e sincronizarÃ¡ mensagens e contatos automaticamente
ðŸ·ï¸ Sistema de Nomes Inteligentes:
Nomes com til (~): SÃ£o atualizados automaticamente quando o contato modifica seu nome no WhatsApp
Nomes especÃ­ficos: Para definir um nome fixo, remova o til (~) do nome no Chatwoot
Exemplo: "~JoÃ£o Silva" serÃ¡ atualizado automaticamente, "JoÃ£o Silva" (sem til) permanecerÃ¡ fixo
AtualizaÃ§Ã£o LIDâ†’PN: Contatos migram automaticamente de Local ID para Phone Number quando disponÃ­vel
Sem duplicaÃ§Ã£o: Durante a migraÃ§Ã£o LIDâ†’PN, nÃ£o haverÃ¡ duplicaÃ§Ã£o de conversas
Respostas nativas: Todas as respostas dos agentes aparecem nativamente no Chatwoot
ðŸš§ AVISO IMPORTANTE - INTEGRAÃ‡ÃƒO BETA:
Fase Beta: Esta integraÃ§Ã£o estÃ¡ em fase de desenvolvimento e testes
Uso por conta e risco: O usuÃ¡rio assume total responsabilidade pelo uso
RecomendaÃ§Ã£o: Teste em ambiente nÃ£o-produtivo antes de usar em produÃ§Ã£o
Suporte limitado: Funcionalidades podem mudar sem aviso prÃ©vio
âš ï¸ LimitaÃ§Ãµes Conhecidas:
SincronizaÃ§Ã£o de histÃ³rico: NÃ£o implementada - apenas mensagens novas sÃ£o sincronizadas
Request
Body
enabled
boolean
required
Habilitar/desabilitar integraÃ§Ã£o com Chatwoot

Example: true

url
string
required
URL base da instÃ¢ncia Chatwoot (sem barra final)

Example: "https://app.chatwoot.com"

access_token
string
required
Token de acesso da API Chatwoot (obtido em Profile Settings > Access Token)

Example: "pXXGHHHyJPYHYgWHJHYHgJjj"

account_id
integer
required
ID da conta no Chatwoot (visÃ­vel na URL da conta)

Example: 1

inbox_id
integer
required
ID da inbox no Chatwoot (obtido nas configuraÃ§Ãµes da inbox)

Example: 5

ignore_groups
boolean
Ignorar mensagens de grupos do WhatsApp na sincronizaÃ§Ã£o

sign_messages
boolean
Assinar mensagens enviadas para WhatsApp com identificaÃ§Ã£o do agente

Example: true

create_new_conversation
boolean
Sempre criar nova conversa ao invÃ©s de reutilizar conversas existentes

GET
/instance/proxy
Obter configuraÃ§Ã£o de proxy da instÃ¢ncia
A uazapiGO jÃ¡ utiliza um proxy gerenciado por padrÃ£o. Para dar liberdade ao cliente, Ã© possÃ­vel informar um proxy prÃ³prio. Retorna o estado atual do proxy, com a URL mascarada e informaÃ§Ãµes do Ãºltimo teste de conectividade.

Responses

200
ConfiguraÃ§Ã£o de proxy recuperada com sucesso

401
Token invÃ¡lido ou expirado

500
Erro interno do servidor ao recuperar a configuraÃ§Ã£o

POST
/instance/proxy
Configurar ou alterar o proxy
Permite habilitar ou trocar para um proxy prÃ³prio. A URL Ã© validada antes de salvar. Quando jÃ¡ usamos o proxy gerenciado padrÃ£o, vocÃª pode substituÃ­-lo enviando seu proxy_url. A conexÃ£o pode ser reiniciada automaticamente para aplicar a mudanÃ§a.

Request
Body
enable
boolean
required
Define se o proxy deve ser habilitado; se false, remove o proxy atual

proxy_url
string
URL do proxy a ser usado (obrigatÃ³ria se enable=true)

Example: "http://usuario:senha@ip:porta"

Responses

200
Proxy configurado com sucesso

400
Payload invÃ¡lido ou falha na validaÃ§Ã£o do proxy

401
Token invÃ¡lido ou expirado

500
Erro interno do servidor ao configurar o proxy

DELETE
/instance/proxy
Remover o proxy configurado
Desativa e apaga o proxy personalizado, voltando ao comportamento padrÃ£o (proxy gerenciado). Pode reiniciar a conexÃ£o para aplicar a remoÃ§Ã£o.

Responses

200
ConfiguraÃ§Ã£o de proxy removida com sucesso

401
Token invÃ¡lido ou expirado

500
Erro interno do servidor ao deletar a configuraÃ§Ã£o de proxy

POST
/instance/updatechatbotsettings
Chatbot ConfiguraÃ§Ãµes
ExplicaÃ§Ã£o dos campos:

openai_apikey: Chave da API OpenAI (comeÃ§a com "sk-")

chatbot_enabled: Habilita/desabilita o chatbot

chatbot_ignoreGroups: Define se o chatbot deve ignorar mensagens de grupos

chatbot_stopConversation: Palavra-chave que os usuÃ¡rios podem usar para parar o chatbot

chatbot_stopMinutes: Por quantos minutos o chatbot deve ficar desativado apÃ³s receber o comando de parada

chatbot_stopWhenYouSendMsg: Por quantos minutos o chatbot deve ficar desativado apÃ³s vocÃª enviar uma mensagem fora da API, 0 desliga.

Request
Body
No request body schema defined
Responses

200
Sucesso

401
Token invÃ¡lido/expirado

404
InstÃ¢ncia nÃ£o encontrada

500
Erro interno

POST
/trigger/edit
Criar, atualizar ou excluir um trigger do chatbot
Endpoint para gerenciar triggers do chatbot. Suporta:

CriaÃ§Ã£o de novos triggers
AtualizaÃ§Ã£o de triggers existentes
ExclusÃ£o de triggers por ID
Request
Body
id
string
ID do trigger. Vazio para criaÃ§Ã£o, obrigatÃ³rio para atualizaÃ§Ã£o/exclusÃ£o

delete
boolean
Quando verdadeiro, exclui o trigger especificado pelo id

trigger
string
required
Responses

200
Trigger atualizado com sucesso

201
Trigger criado com sucesso

400
Corpo da requisiÃ§Ã£o invÃ¡lido ou campos obrigatÃ³rios ausentes

404
Trigger nÃ£o encontrado

500
Erro no servidor

POST
/agent/edit
Criar/Editar Agente
DocumentaÃ§Ã£o dos Campos de ConfiguraÃ§Ã£o
Campos BÃ¡sicos
Nome e IdentificaÃ§Ã£o
O agente precisa ser configurado com informaÃ§Ãµes bÃ¡sicas que determinam sua identidade e funcionamento.

Nome do Agente
name: Define como o agente serÃ¡ identificado nas conversas.

Exemplos vÃ¡lidos:

"Assistente de Vendas"
"Suporte TÃ©cnico"
"JoÃ£o"
"Maria"
Provedor do ServiÃ§o
provider: Especifica qual serviÃ§o de IA serÃ¡ utilizado.

Provedores disponÃ­veis:

"openai" (ChatGPT)
"anthropic" (Claude)
"gemini" (Google)
"deepseek" (DeepSeek)
Chave de API
apikey: Credencial necessÃ¡ria para autenticaÃ§Ã£o com o provedor escolhido.

Deve ser obtida atravÃ©s do site oficial do provedor selecionado
Mantenha esta chave em seguranÃ§a e nunca a compartilhe
ConfiguraÃ§Ã£o do Modelo
SeleÃ§Ã£o do Modelo
model: Especifica qual modelo de IA serÃ¡ utilizado. A disponibilidade depende do provedor selecionado.

OpenAI
DocumentaÃ§Ã£o: https://platform.openai.com/docs/models

gpt-4o
gpt-4o-mini
gpt-3.5-turbo
Claude
DocumentaÃ§Ã£o: https://docs.anthropic.com/en/docs/about-claude/models

claude-3-5-sonnet-latest
claude-3-5-haiku-latest
claude-3-opus-latest
Gemini
DocumentaÃ§Ã£o: https://ai.google.dev/models/gemini

gemini-2.0-flash-exp
gemini-1.5-pro
gemini-1.5-flash
DeepSeek
DocumentaÃ§Ã£o: https://api-docs.deepseek.com/quick_start/pricing

deepseek-chat
deepseek-reasoner
ConfiguraÃ§Ãµes de Comportamento
Prompt Base (basePrompt)
InstruÃ§Ãµes iniciais para definir o comportamento do agente

Exemplo para assistente de vendas:

"VocÃª Ã© um assistente especializado em vendas, focado em ajudar clientes a encontrar os produtos ideais. Mantenha um tom profissional e amigÃ¡vel."

Exemplo para suporte:

"VocÃª Ã© um agente de suporte tÃ©cnico especializado em nossos produtos. ForneÃ§a respostas claras e objetivas para ajudar os clientes a resolverem seus problemas."

ParÃ¢metros de GeraÃ§Ã£o
temperature: Controla a criatividade das respostas (0-100)

0-30: Respostas mais conservadoras e precisas

30-70: EquilÃ­brio entre criatividade e precisÃ£o

70-100: Respostas mais criativas e variadas

maxTokens: Limite mÃ¡ximo de tokens por resposta

Recomendado: 1000-4000 para respostas detalhadas

Para respostas curtas: 500-1000

Limite mÃ¡ximo varia por modelo

diversityLevel: Controla a diversidade das respostas (0-100)

Valores mais altos geram respostas mais variadas

Recomendado: 30-70 para uso geral

frequencyPenalty: Penalidade para repetiÃ§Ã£o de palavras (0-100)

Valores mais altos reduzem repetiÃ§Ãµes

Recomendado: 20-50 para comunicaÃ§Ã£o natural

presencePenalty: Penalidade para manter foco no tÃ³pico (0-100)

Valores mais altos incentivam mudanÃ§as de tÃ³pico

Recomendado: 10-30 para manter coerÃªncia

ConfiguraÃ§Ãµes de InteraÃ§Ã£o
Mensagens
signMessages: Se verdadeiro, adiciona a assinatura do agente nas mensagens

Ãštil para identificar quem estÃ¡ enviando a mensagem
readMessages: Se verdadeiro, marca as mensagens como lidas ao responder

Recomendado para simular comportamento humano
Exemplos de ConfiguraÃ§Ã£o
Assistente de Vendas

{
  "name": "Assistente de Vendas",
  "provider": "openai",
  "model": "gpt-4",
  "basePrompt": "VocÃª Ã© um assistente de vendas especializado...",
  "temperature": 70,
  "maxTokens": 2000,
  "diversityLevel": 50,
  "frequencyPenalty": 30,
  "presencePenalty": 20,
  "signMessages": true,
  "readMessages": true
}

Suporte TÃ©cnico

{
  "name": "Suporte TÃ©cnico",
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "basePrompt": "VocÃª Ã© um agente de suporte tÃ©cnico...",
  "temperature": 30,
  "maxTokens": 3000,
  "diversityLevel": 40,
  "frequencyPenalty": 40,
  "presencePenalty": 15,
  "signMessages": true,
  "readMessages": true
}

Dicas de OtimizaÃ§Ã£o
Ajuste Gradual: Comece com valores moderados e ajuste conforme necessÃ¡rio

Teste o Base Prompt: Verifique se as instruÃ§Ãµes estÃ£o claras e completas

Monitore o Desempenho: Observe as respostas e ajuste os parÃ¢metros para melhor adequaÃ§Ã£o

Backup: Mantenha um backup das configuraÃ§Ãµes que funcionaram bem

DocumentaÃ§Ã£o: Registre as alteraÃ§Ãµes e seus impactos para referÃªncia futura

Request
Body
No request body schema defined
Responses

200
Agente atualizado com sucesso

201
Novo agente criado com sucesso

400
Erro na requisiÃ§Ã£o

401
NÃ£o autorizado

404
Agente nÃ£o encontrado

500
Erro interno do servidor

POST
/knowledge/edit
Criar/Editar Conhecimento do Agente
Gerencia o conhecimento base usado pelos agentes de IA para responder consultas. O conhecimento pode ser fornecido como texto direto ou atravÃ©s de arquivos PDF/CSV.

CaracterÃ­sticas principais:

Suporta criaÃ§Ã£o, ediÃ§Ã£o e exclusÃ£o de conhecimento
Aceita conteÃºdo em:
Texto puro
URLs pÃºblicas
Base64 encoded de arquivos
Upload direto de arquivos
Formatos suportados: PDF, CSV, TXT, HTML
Processa automaticamente qualquer formato de entrada
Vetoriza automaticamente o conteÃºdo para busca semÃ¢ntica
Nota sobre URLs e Base64:

URLs devem ser pÃºblicas e acessÃ­veis
Para PDFs/CSVs, especifique fileType se nÃ£o for detectÃ¡vel da extensÃ£o
Base64 deve incluir o encoding completo do arquivo
O servidor detecta e processa automaticamente conteÃºdo Base64
Request
Body
id
string
ID do conhecimento (vazio para criar novo)

delete
boolean
Define se Ã© uma operaÃ§Ã£o de exclusÃ£o

knowledge
object
fileType
string
Tipo do arquivo quando nÃ£o detectado automaticamente

GET
/knowledge/list
Listar Base de Conhecimento
Retorna todos os conhecimentos cadastrados para o agente de IA da instÃ¢ncia. Estes conhecimentos sÃ£o utilizados pelo chatbot para responder perguntas e interagir com os usuÃ¡rios de forma contextualizada.

Responses

200
Lista de conhecimentos recuperada com sucesso

401
Token de autenticaÃ§Ã£o ausente ou invÃ¡lido

500
Erro interno do servidor ao buscar conhecimentos

POST
/function/edit
Criar/Editar funÃ§Ã£o para integraÃ§Ã£o com APIs externas
ConfiguraÃ§Ã£o de FunÃ§Ãµes de API para Agentes IA
DocumentaÃ§Ã£o para criar/editar funÃ§Ãµes utilizadas pelos agentes de IA para integraÃ§Ã£o com APIs externas. Inclui validaÃ§Ã£o automÃ¡tica e controle de ativaÃ§Ã£o.

1. Estrutura Base da FunÃ§Ã£o
Campos Principais
{
  "name": "nomeDaFuncao",
  "description": "DescriÃ§Ã£o detalhada",
  "isActive": true,
  "method": "POST",
  "endpoint": "https://api.exemplo.com/recurso",
  "headers": {},
  "body": {},
  "parameters": []
}
Detalhamento dos Campos
name
Identificador Ãºnico e descritivo
Sem espaÃ§os ou caracteres especiais
Ex: "createProduct", "updateUserStatus"
description
PropÃ³sito e funcionamento da funÃ§Ã£o
Inclua casos de uso e resultados esperados
Ex: "Cria produto no catÃ¡logo com nome, preÃ§o e categoria"
isActive
Controla disponibilidade da funÃ§Ã£o
Desativa automaticamente se houver erros
Default: false
method
GET: buscar dados
POST: criar recurso
PUT: atualizar completo
PATCH: atualizaÃ§Ã£o parcial
DELETE: remover recurso
endpoint
URL completa da API
Aceita placeholders: {{variavel}}
Exemplos:
https://api.exemplo.com/produtos
https://api.exemplo.com/usuarios/{{userId}}
https://api.exemplo.com/busca?q={{query}}&limit={{limit}}
headers
{
  "Authorization": "Bearer {{apiKey}}",
  "Content-Type": "application/json",
  "Accept": "application/json"
}
body (POST/PUT/PATCH)
{
  "name": "{{productName}}",
  "price": "{{price}}",
  "metadata": {
    "tags": "{{tags}}"
  }
}
2. ConfiguraÃ§Ã£o de ParÃ¢metros
Estrutura do ParÃ¢metro
{
  "name": "nomeParametro",
  "type": "string",
  "description": "DescriÃ§Ã£o do uso",
  "required": true,
  "enum": "valor1,valor2,valor3",
  "minimum": 0,
  "maximum": 100
}
Tipos de ParÃ¢metros
String
{
  "name": "status",
  "type": "string",
  "description": "Status do pedido",
  "required": true,
  "enum": "pending,processing,completed"
}
NÃºmero
{
  "name": "price",
  "type": "number",
  "description": "PreÃ§o em reais",
  "required": true,
  "minimum": 0.01,
  "maximum": 99999.99
}
Inteiro
{
  "name": "quantity",
  "type": "integer",
  "description": "Quantidade",
  "minimum": 0,
  "maximum": 1000
}
Boolean
{
  "name": "active",
  "type": "boolean",
  "description": "Status de ativaÃ§Ã£o"
}
3. Sistema de ValidaÃ§Ã£o
ValidaÃ§Ãµes AutomÃ¡ticas
JSON
Headers e body devem ser vÃ¡lidos
Erros desativam a funÃ§Ã£o
Placeholders ({{variavel}})
Case-sensitive
Devem ter parÃ¢metro correspondente
ParÃ¢metros
Nomes Ãºnicos
Tipos corretos
Limites numÃ©ricos vÃ¡lidos
Enums sem valores vazios
Erros e Avisos
FunÃ§Ã£o desativa se houver:
JSON invÃ¡lido
ParÃ¢metros nÃ£o documentados
ViolaÃ§Ãµes de tipo
Erros aparecem em undocumentedParameters
4. Exemplo Completo
{
  "name": "createProduct",
  "description": "Criar novo produto no catÃ¡logo",
  "isActive": true,
  "method": "POST",
  "endpoint": "https://api.store.com/v1/products",
  "headers": {
    "Authorization": "Bearer {{apiKey}}",
    "Content-Type": "application/json"
  },
  "body": {
    "name": "{{productName}}",
    "price": "{{price}}",
    "category": "{{category}}"
  },
  "parameters": [
    {
      "name": "apiKey",
      "type": "string",
      "description": "Chave de API",
      "required": true
    },
    {
      "name": "productName",
      "type": "string",
      "description": "Nome do produto",
      "required": true
    },
    {
      "name": "price",
      "type": "number",
      "description": "PreÃ§o em reais",
      "required": true,
      "minimum": 0.01
    },
    {
      "name": "category",
      "type": "string",
      "description": "Categoria do produto",
      "required": true,
      "enum": "electronics,clothing,books"
    }
  ]
}
Request
Body
id
string
required
ID da funÃ§Ã£o. Vazio para criar nova, preenchido para editar existente.

delete
boolean
required
Se true, deleta a funÃ§Ã£o especificada pelo ID.

function
object
required
Responses

200
FunÃ§Ã£o atualizada com sucesso

201
Nova funÃ§Ã£o criada com sucesso

400
Erro de validaÃ§Ã£o nos dados fornecidos

404
FunÃ§Ã£o nÃ£o encontrada

500
Erro interno do servi

GET
/function/list
Lista todas as funÃ§Ãµes de API
Retorna todas as funÃ§Ãµes de API configuradas para a instÃ¢ncia atual

Responses

200
Lista de funÃ§Ãµes recuperada com sucesso

500
Erro interno do servidor











